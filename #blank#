char *ans = *stringp;
if (*stringp == 0) return 0;
while (**stringp != delim && **stringp != '\0')*stringp += 1;
if (**stringp == delim) {
   **stringp = '\0';
   *stringp+=1;
   }
else *stringp = 0;

return ans;